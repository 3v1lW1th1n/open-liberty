/*******************************************************************************
 * Copyright (c) 2019 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     IBM Corporation - initial API and implementation
 *******************************************************************************/

configurations {
  hibernateJPA21
}

dependencies {
  hibernateJPA21 'org.hibernate:hibernate-core:5.2.17.Final'
  hibernateJPA21 'org.jboss.logging:jboss-logging:3.3.1.Final'
  
  hibernateJPA21 'org.javassist:javassist:3.22.0-GA'
  hibernateJPA21 'antlr:antlr:2.7.7'
  hibernateJPA21 'org.jboss:jandex:2.0.3.Final'
  hibernateJPA21 'com.fasterxml:classmate:1.3.1'
  
  hibernateJPA21 'dom4j:dom4j:1.6.1'
  hibernateJPA21 'org.hibernate.common:hibernate-commons-annotations:5.0.1.Final'
}

task addHibernateJPA21(type: Copy) {
  shouldRunAfter jar
  from configurations.hibernateJPA21
  into new File(autoFvtDir, 'publish/shared/resources/jpa21_hibernate')
  rename 'antlr-.*.jar', 'antlr.jar'
  rename 'classmate-.*.jar', 'classmate.jar' 
  rename 'dom4j-.*.jar', 'dom4j.jar'
  rename 'hibernate-commons-annotations-.*.jar', 'hibernate-commons-annotations.jar'
  rename 'hibernate-core-.*.jar', 'hibernate-core.jar'
  rename 'jandex-.*.jar', 'jandex.jar' 
  rename 'javassist-.*.jar', 'javassist.jar'
  rename 'jboss-logging-.*.jar', 'jboss-logging.jar'
}

addRequiredLibraries {
  dependsOn addDerby
  dependsOn addHibernateJPA21
}
